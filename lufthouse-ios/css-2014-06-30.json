{
  "metadata":{
    "apiVersion":"2014-06-30",
    "endpointPrefix":"css",
    "jsonVersion":"1.1",
    "serviceFullName":"Amazon Cognito Service",
    "signatureVersion":"v4",
    "targetPrefix":"AWSCognitoSyncService",
    "type":"json"
  },
  "operations":{
    "DeleteDataset":{
      "name":"DeleteDataset",
      "http":{
        "method":"DELETE",
        "requestUri":"/identitypools/{IdentityPoolId}/identities/{IdentityId}/datasets/{DatasetName}",
        "responseCode":200
      },
      "input":{"shape":"DeleteDatasetRequest"},
      "output":{"shape":"DeleteDatasetResponse"},
      "errors":[
        {
          "shape":"NotAuthorizedException",
          "error":{"httpStatusCode":403},
          "exception":true
        },
        {
          "shape":"InvalidParameterException",
          "error":{"httpStatusCode":400},
          "exception":true
        },
        {
          "shape":"ResourceNotFoundException",
          "error":{"httpStatusCode":404},
          "exception":true
        },
        {
          "shape":"InternalErrorException",
          "error":{"httpStatusCode":500},
          "exception":true
        }
      ]
    },
    "DescribeDataset":{
      "name":"DescribeDataset",
      "http":{
        "method":"GET",
        "requestUri":"/identitypools/{IdentityPoolId}/identities/{IdentityId}/datasets/{DatasetName}",
        "responseCode":200
      },
      "input":{"shape":"DescribeDatasetRequest"},
      "output":{"shape":"DescribeDatasetResponse"},
      "errors":[
        {
          "shape":"NotAuthorizedException",
          "error":{"httpStatusCode":403},
          "exception":true
        },
        {
          "shape":"InvalidParameterException",
          "error":{"httpStatusCode":400},
          "exception":true
        },
        {
          "shape":"ResourceNotFoundException",
          "error":{"httpStatusCode":404},
          "exception":true
        },
        {
          "shape":"InternalErrorException",
          "error":{"httpStatusCode":500},
          "exception":true
        }
      ]
    },
    "DescribeIdentity":{
      "name":"DescribeIdentity",
      "http":{
        "method":"GET",
        "requestUri":"/identitypools/{IdentityPoolId}/identities/{IdentityId}",
        "responseCode":200
      },
      "input":{"shape":"DescribeIdentityRequest"},
      "output":{"shape":"DescribeIdentityResponse"},
      "errors":[
        {
          "shape":"NotAuthorizedException",
          "error":{"httpStatusCode":403},
          "exception":true
        },
        {
          "shape":"InvalidParameterException",
          "error":{"httpStatusCode":400},
          "exception":true
        },
        {
          "shape":"ResourceNotFoundException",
          "error":{"httpStatusCode":404},
          "exception":true
        },
        {
          "shape":"InternalErrorException",
          "error":{"httpStatusCode":500},
          "exception":true
        }
      ]
    },
    "DescribeIdentityPool":{
      "name":"DescribeIdentityPool",
      "http":{
        "method":"GET",
        "requestUri":"/identitypools/{IdentityPoolId}",
        "responseCode":200
      },
      "input":{"shape":"DescribeIdentityPoolRequest"},
      "output":{"shape":"DescribeIdentityPoolResponse"},
      "errors":[
        {
          "shape":"NotAuthorizedException",
          "error":{"httpStatusCode":403},
          "exception":true
        },
        {
          "shape":"InvalidParameterException",
          "error":{"httpStatusCode":400},
          "exception":true
        },
        {
          "shape":"ResourceNotFoundException",
          "error":{"httpStatusCode":404},
          "exception":true
        },
        {
          "shape":"InternalErrorException",
          "error":{"httpStatusCode":500},
          "exception":true
        }
      ]
    },
    "GetIdentityPoolAnalytics":{
      "name":"GetIdentityPoolAnalytics",
      "http":{
        "method":"GET",
        "requestUri":"/identitypools/{IdentityPoolId}/monthlyAnalytics",
        "responseCode":200
      },
      "input":{"shape":"GetIdentityPoolAnalyticsRequest"},
      "output":{"shape":"GetIdentityPoolAnalyticsResponse"},
      "errors":[
        {
          "shape":"NotAuthorizedException",
          "error":{"httpStatusCode":403},
          "exception":true
        },
        {
          "shape":"InvalidParameterException",
          "error":{"httpStatusCode":400},
          "exception":true
        },
        {
          "shape":"ResourceNotFoundException",
          "error":{"httpStatusCode":404},
          "exception":true
        },
        {
          "shape":"InternalErrorException",
          "error":{"httpStatusCode":500},
          "exception":true
        }
      ]
    },
    "ListDatasets":{
      "name":"ListDatasets",
      "http":{
        "method":"GET",
        "requestUri":"/identitypools/{IdentityPoolId}/identities/{IdentityId}/datasets",
        "responseCode":200
      },
      "input":{"shape":"ListDatasetsRequest"},
      "output":{"shape":"ListDatasetsResponse"},
      "errors":[
        {
          "shape":"NotAuthorizedException",
          "error":{"httpStatusCode":403},
          "exception":true
        },
        {
          "shape":"InvalidParameterException",
          "error":{"httpStatusCode":400},
          "exception":true
        },
        {
          "shape":"InternalErrorException",
          "error":{"httpStatusCode":500},
          "exception":true
        }
      ]
    },
    "ListIdentityPools":{
      "name":"ListIdentityPools",
      "http":{
        "method":"GET",
        "requestUri":"/identitypools",
        "responseCode":200
      },
      "input":{"shape":"ListIdentityPoolsRequest"},
      "output":{"shape":"ListIdentityPoolsResponse"},
      "errors":[
        {
          "shape":"NotAuthorizedException",
          "error":{"httpStatusCode":403},
          "exception":true
        },
        {
          "shape":"InvalidParameterException",
          "error":{"httpStatusCode":400},
          "exception":true
        },
        {
          "shape":"InternalErrorException",
          "error":{"httpStatusCode":500},
          "exception":true
        }
      ]
    },
    "ListRecords":{
      "name":"ListRecords",
      "http":{
        "method":"GET",
        "requestUri":"/identitypools/{IdentityPoolId}/identities/{IdentityId}/datasets/{DatasetName}/records",
        "responseCode":200
      },
      "input":{"shape":"ListRecordsRequest"},
      "output":{"shape":"ListRecordsResponse"},
      "errors":[
        {
          "shape":"InvalidParameterException",
          "error":{"httpStatusCode":400},
          "exception":true
        },
        {
          "shape":"NotAuthorizedException",
          "error":{"httpStatusCode":403},
          "exception":true
        },
        {
          "shape":"DatasetNotFoundException",
          "error":{"httpStatusCode":404},
          "exception":true
        },
        {
          "shape":"TooManyRequestsException",
          "error":{"httpStatusCode":429},
          "exception":true
        },
        {
          "shape":"InternalErrorException",
          "error":{"httpStatusCode":500},
          "exception":true
        }
      ]
    },
    "UpdateRecords":{
      "name":"UpdateRecords",
      "http":{
        "method":"PATCH",
        "requestUri":"/identitypools/{IdentityPoolId}/identities/{IdentityId}/datasets/{DatasetName}",
        "responseCode":200
      },
      "input":{"shape":"UpdateRecordsRequest"},
      "output":{"shape":"UpdateRecordsResponse"},
      "errors":[
        {
          "shape":"InvalidParameterException",
          "error":{"httpStatusCode":400},
          "exception":true
        },
        {
          "shape":"LimitExceededException",
          "error":{"httpStatusCode":400},
          "exception":true
        },
        {
          "shape":"NotAuthorizedException",
          "error":{"httpStatusCode":403},
          "exception":true
        },
        {
          "shape":"ResourceNotFoundException",
          "error":{"httpStatusCode":404},
          "exception":true
        },
        {
          "shape":"ResourceConflictException",
          "error":{"httpStatusCode":409},
          "exception":true
        },
        {
          "shape":"TooManyRequestsException",
          "error":{"httpStatusCode":429},
          "exception":true
        },
        {
          "shape":"InternalErrorException",
          "error":{"httpStatusCode":500},
          "exception":true
        }
      ]
    }
  },
  "shapes":{
    "Dataset":{
      "type":"structure",
      "members":{
        "IdentityId":{"shape":"IdentityId"},
        "DatasetName":{"shape":"DatasetName"},
        "SyncCount":{"shape":"Long"},
        "CreationDate":{"shape":"Date"},
        "LastModifiedDate":{"shape":"Date"},
        "LastModifiedBy":{"shape":"String"},
        "Size":{"shape":"Long"},
        "NumRecords":{"shape":"Long"},
        "DatasetStatus":{"shape":"DatasetStatus"}
      }
    },
    "DatasetList":{
      "type":"list",
      "member":{"shape":"Dataset"}
    },
    "DatasetName":{
      "type":"string",
      "min":1,
      "max":128,
      "pattern":"[a-zA-Z0-9_.-]+"
    },
    "DatasetNotFoundException":{
      "type":"structure",
      "required":["message"],
      "members":{
        "message":{"shape":"ExceptionMessage"},
        "SyncSessionToken":{"shape":"SyncSessionToken"}
      },
      "error":{"httpStatusCode":404},
      "exception":true
    },
    "DatasetStatus":{
      "type":"string",
      "enum":[
        "ACTIVE",
        "DELETED"
      ]
    },
    "Date":{"type":"timestamp"},
    "DeleteDatasetRequest":{
      "type":"structure",
      "required":[
        "IdentityPoolId",
        "IdentityId",
        "DatasetName"
      ],
      "members":{
        "IdentityPoolId":{
          "shape":"IdentityPoolId",
          "location":"uri",
          "locationName":"IdentityPoolId"
        },
        "IdentityId":{
          "shape":"IdentityId",
          "location":"uri",
          "locationName":"IdentityId"
        },
        "DatasetName":{
          "shape":"DatasetName",
          "location":"uri",
          "locationName":"DatasetName"
        }
      }
    },
    "DeleteDatasetResponse":{
      "type":"structure",
      "members":{
        "Dataset":{"shape":"Dataset"}
      }
    },
    "DescribeDatasetRequest":{
      "type":"structure",
      "required":[
        "IdentityPoolId",
        "IdentityId",
        "DatasetName"
      ],
      "members":{
        "IdentityPoolId":{
          "shape":"IdentityPoolId",
          "location":"uri",
          "locationName":"IdentityPoolId"
        },
        "IdentityId":{
          "shape":"IdentityId",
          "location":"uri",
          "locationName":"IdentityId"
        },
        "DatasetName":{
          "shape":"DatasetName",
          "location":"uri",
          "locationName":"DatasetName"
        }
      }
    },
    "DescribeDatasetResponse":{
      "type":"structure",
      "members":{
        "Dataset":{"shape":"Dataset"}
      }
    },
    "DescribeIdentityPoolRequest":{
      "type":"structure",
      "required":["IdentityPoolId"],
      "members":{
        "IdentityPoolId":{
          "shape":"IdentityPoolId",
          "location":"uri",
          "locationName":"IdentityPoolId"
        }
      }
    },
    "DescribeIdentityPoolResponse":{
      "type":"structure",
      "members":{
        "IdentityPool":{"shape":"IdentityPool"}
      }
    },
    "DescribeIdentityRequest":{
      "type":"structure",
      "required":[
        "IdentityPoolId",
        "IdentityId"
      ],
      "members":{
        "IdentityPoolId":{
          "shape":"IdentityPoolId",
          "location":"uri",
          "locationName":"IdentityPoolId"
        },
        "IdentityId":{
          "shape":"IdentityId",
          "location":"uri",
          "locationName":"IdentityId"
        }
      }
    },
    "DescribeIdentityResponse":{
      "type":"structure",
      "members":{
        "Identity":{"shape":"Identity"}
      }
    },
    "ExceptionMessage":{"type":"string"},
    "GetIdentityPoolAnalyticsRequest":{
      "type":"structure",
      "required":[
        "IdentityPoolId",
        "StartMonth"
      ],
      "members":{
        "IdentityPoolId":{
          "shape":"IdentityPoolId",
          "location":"uri",
          "locationName":"IdentityPoolId"
        },
        "StartMonth":{
          "shape":"MonthString",
          "location":"querystring",
          "locationName":"startMonth"
        },
        "Limit":{
          "shape":"Limit",
          "location":"querystring",
          "locationName":"limit"
        }
      }
    },
    "GetIdentityPoolAnalyticsResponse":{
      "type":"structure",
      "members":{
        "IdentityPoolId":{"shape":"IdentityPoolId"},
        "DataStorage":{"shape":"Long"},
        "TotalSyncSessions":{"shape":"Long"},
        "MonthlyAnalyticsList":{"shape":"MonthlyAnalyticsList"}
      }
    },
    "Identity":{
      "type":"structure",
      "members":{
        "IdentityId":{"shape":"IdentityId"},
        "IdentityPoolId":{"shape":"IdentityPoolId"},
        "CreationDate":{"shape":"Date"},
        "DatasetCount":{"shape":"Integer"},
        "DataStorage":{"shape":"Long"}
      }
    },
    "IdentityId":{
      "type":"string",
      "min":1,
      "max":50,
      "pattern":"[\\w-]+:[0-9a-f-]+"
    },
    "IdentityPool":{
      "type":"structure",
      "members":{
        "IdentityPoolId":{"shape":"IdentityPoolId"},
        "IdentityPoolStatus":{"shape":"IdentityPoolStatus"},
        "SyncSessionsCount":{"shape":"Long"},
        "DataStorage":{"shape":"Long"},
        "CreationDate":{"shape":"Date"},
        "LastModifiedDate":{"shape":"Date"}
      }
    },
    "IdentityPoolId":{
      "type":"string",
      "min":1,
      "max":50,
      "pattern":"[\\w-]+:[0-9a-f-]+"
    },
    "IdentityPoolList":{
      "type":"list",
      "member":{"shape":"IdentityPool"}
    },
    "IdentityPoolStatus":{
      "type":"string",
      "enum":[
        "UPDATING",
        "DELETING",
        "ACTIVE"
      ]
    },
    "Integer":{"type":"integer"},
    "IntegerString":{
      "type":"string",
      "max":19,
      "pattern":"\\d+"
    },
    "InternalErrorException":{
      "type":"structure",
      "required":["message"],
      "members":{
        "message":{"shape":"ExceptionMessage"}
      },
      "error":{"httpStatusCode":500},
      "exception":true
    },
    "InvalidParameterException":{
      "type":"structure",
      "required":["message"],
      "members":{
        "message":{"shape":"ExceptionMessage"}
      },
      "error":{"httpStatusCode":400},
      "exception":true
    },
    "Limit":{
      "type":"string",
      "min":1,
      "max":2,
      "pattern":"^([1-9]|[1-2][\\d])|(30)$"
    },
    "LimitExceededException":{
      "type":"structure",
      "required":["message"],
      "members":{
        "message":{"shape":"ExceptionMessage"}
      },
      "error":{"httpStatusCode":400},
      "exception":true
    },
    "ListDatasetsRequest":{
      "type":"structure",
      "required":[
        "IdentityId",
        "IdentityPoolId"
      ],
      "members":{
        "IdentityPoolId":{
          "shape":"IdentityPoolId",
          "location":"uri",
          "locationName":"IdentityPoolId"
        },
        "IdentityId":{
          "shape":"IdentityId",
          "location":"uri",
          "locationName":"IdentityId"
        },
        "Token":{
          "shape":"String",
          "location":"querystring",
          "locationName":"token"
        },
        "Limit":{
          "shape":"IntegerString",
          "location":"querystring",
          "locationName":"limit"
        }
      }
    },
    "ListDatasetsResponse":{
      "type":"structure",
      "members":{
        "Datasets":{"shape":"DatasetList"},
        "Count":{"shape":"Integer"},
        "NextToken":{"shape":"String"}
      }
    },
    "ListIdentityPoolsRequest":{
      "type":"structure",
      "members":{
        "Token":{
          "shape":"String",
          "location":"querystring",
          "locationName":"token"
        },
        "Limit":{
          "shape":"IntegerString",
          "location":"querystring",
          "locationName":"limit"
        }
      }
    },
    "ListIdentityPoolsResponse":{
      "type":"structure",
      "members":{
        "IdentityPools":{"shape":"IdentityPoolList"},
        "Limit":{"shape":"Integer"},
        "Count":{"shape":"Integer"},
        "NextToken":{"shape":"String"}
      }
    },
    "ListRecordsRequest":{
      "type":"structure",
      "required":[
        "IdentityPoolId",
        "IdentityId",
        "DatasetName"
      ],
      "members":{
        "IdentityPoolId":{
          "shape":"IdentityPoolId",
          "location":"uri",
          "locationName":"IdentityPoolId"
        },
        "IdentityId":{
          "shape":"IdentityId",
          "location":"uri",
          "locationName":"IdentityId"
        },
        "DatasetName":{
          "shape":"DatasetName",
          "location":"uri",
          "locationName":"DatasetName"
        },
        "LastSyncCount":{
          "shape":"IntegerString",
          "location":"querystring",
          "locationName":"lastSyncCount"
        },
        "Token":{
          "shape":"String",
          "location":"querystring",
          "locationName":"token"
        },
        "Limit":{
          "shape":"IntegerString",
          "location":"querystring",
          "locationName":"limit"
        },
        "SyncSessionToken":{
          "shape":"SyncSessionToken",
          "location":"querystring",
          "locationName":"syncSessionToken"
        }
      }
    },
    "ListRecordsResponse":{
      "type":"structure",
      "members":{
        "Records":{"shape":"RecordList"},
        "NextToken":{"shape":"String"},
        "Count":{"shape":"Integer"},
        "DatasetSyncCount":{"shape":"Long"},
        "MergedDatasetNames":{"shape":"MergedDatasetNameList"},
        "SyncSessionToken":{"shape":"String"}
      }
    },
    "Long":{"type":"long"},
    "MergedDatasetNameList":{
      "type":"list",
      "member":{"shape":"String"}
    },
    "MonthString":{
      "type":"string",
      "min":7,
      "max":7,
      "pattern":"^(201)([4-9]|(20)[2-9][\\d])[-](0[1-9]|1[012])$"
    },
    "MonthlyAnalytics":{
      "type":"structure",
      "members":{
        "Date":{"shape":"MonthString"},
        "SyncSessionsCount":{"shape":"Long"}
      }
    },
    "MonthlyAnalyticsList":{
      "type":"list",
      "member":{"shape":"MonthlyAnalytics"}
    },
    "NotAuthorizedException":{
      "type":"structure",
      "required":["message"],
      "members":{
        "message":{"shape":"ExceptionMessage"}
      },
      "error":{"httpStatusCode":403},
      "exception":true
    },
    "Operation":{
      "type":"string",
      "enum":[
        "replace",
        "remove"
      ]
    },
    "Record":{
      "type":"structure",
      "members":{
        "Key":{"shape":"RecordKey"},
        "Value":{"shape":"RecordValue"},
        "SyncCount":{"shape":"Long"},
        "LastModifiedDate":{"shape":"Date"},
        "LastModifiedBy":{"shape":"String"},
        "DeviceLastModifiedDate":{"shape":"Date"}
      }
    },
    "RecordKey":{
      "type":"string",
      "min":1,
      "max":1024
    },
    "RecordList":{
      "type":"list",
      "member":{"shape":"Record"}
    },
    "RecordPatch":{
      "type":"structure",
      "required":[
        "Op",
        "Key",
        "SyncCount"
      ],
      "members":{
        "Op":{"shape":"Operation"},
        "Key":{"shape":"RecordKey"},
        "Value":{"shape":"RecordValue"},
        "SyncCount":{"shape":"Long"},
        "DeviceLastModifiedDate":{"shape":"Date"}
      }
    },
    "RecordPatchList":{
      "type":"list",
      "member":{"shape":"RecordPatch"}
    },
    "RecordValue":{
      "type":"string",
      "max":1048575
    },
    "ResourceConflictException":{
      "type":"structure",
      "required":["message"],
      "members":{
        "message":{"shape":"ExceptionMessage"}
      },
      "error":{"httpStatusCode":409},
      "exception":true
    },
    "ResourceNotFoundException":{
      "type":"structure",
      "required":["message"],
      "members":{
        "message":{"shape":"ExceptionMessage"}
      },
      "error":{"httpStatusCode":404},
      "exception":true
    },
    "String":{"type":"string"},
    "SyncSessionToken":{"type":"string"},
    "TooManyRequestsException":{
      "type":"structure",
      "required":["message"],
      "members":{
        "message":{"shape":"ExceptionMessage"}
      },
      "error":{"httpStatusCode":429},
      "exception":true
    },
    "UpdateRecordsRequest":{
      "type":"structure",
      "required":[
        "IdentityPoolId",
        "IdentityId",
        "DatasetName"
      ],
      "members":{
        "IdentityPoolId":{
          "shape":"IdentityPoolId",
          "location":"uri",
          "locationName":"IdentityPoolId"
        },
        "IdentityId":{
          "shape":"IdentityId",
          "location":"uri",
          "locationName":"IdentityId"
        },
        "DatasetName":{
          "shape":"DatasetName",
          "location":"uri",
          "locationName":"DatasetName"
        },
        "RecordPatches":{"shape":"RecordPatchList"},
        "SyncSessionToken":{"shape":"SyncSessionToken"}
      }
    },
    "UpdateRecordsResponse":{
      "type":"structure",
      "members":{
        "Records":{"shape":"RecordList"}
      }
    }
  }
}
